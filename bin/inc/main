#!/usr/bin/env bash
#shellcheck disable=1090
set -euo pipefail

# ----------------------------------------------------------------------------

# MAKE TEMPDIR AND CLEAN ON EXIT

function clean_temp() {
  rm -fr "$TMPDIR"
}
trap clean_temp EXIT

TMPDIR="$(mktemp -d "${TMPDIR:-/tmp/}$(basename 0).XXXXXXXXXXXX")"

# ----------------------------------------------------------------------------

# LOAD PRETTY PRINT HELPER
pretty_print_url="https://gist.githubusercontent.com/27Bslash6/ffa9cfb92c25ef27cad2900c74e2f6dc/raw/4baf03fccb0125518738214623ef96957b4e3ef4/bash-pretty-print.sh"
curl -s "${pretty_print_url}" -o "${TMPDIR}/pretty_print.sh"
. "${TMPDIR}/pretty_print.sh"
rm "${TMPDIR}/pretty_print.sh"

# ----------------------------------------------------------------------------

# LOAD VARIABLES

# shellcheck disable=SC1090
. "${GIT_ROOT_DIR}/bin/env.sh"
